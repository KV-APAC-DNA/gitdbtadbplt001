version: 2

sources:
  - name: myssdl_raw
    database: "{{ env_var('DBT_ENV_LOAD_DB') }}"
    schema: myssdl_raw
    quoting:
      database: false
      schema: false
      identifier: false
    tables:
      - name: sdl_my_perfectstore_sku_mst
        tests:
          - test_null:
              select_columns: ["file_name", "description", "manufacture", "brand", "category", "product_barcode", "sku_no", "client", "packsize", "other", "sub_catgory", "sub_brand", "list_price_unit", "list_price_fib", "packing_config", "rcp"]
              not_null_columns: ["description","manufacture","brand"]
              name: TRATBL_sdl_my_perfectstore_sku_mst__null_test
              config:
                store_failures: true
                schema: myswks_integration
      - name: sdl_my_perfectstore_osa
        tests:
          - test_null:
              select_columns: ["file_name", "date", "region", "outlet", "outlet_no", "category", "brand", "product_barcode", "sku_description", "answer"]
              not_null_columns: ["date","outlet_no","product_barcode","answer"]
              name: TRATBL_sdl_my_perfectstore_osa__null_test
              config:
                store_failures: true
                schema: myswks_integration
  - name: mysedw_integration
    database: "{{ env_var('DBT_ENV_CORE_DB') }}"
    schema: mysedw_integration
    quoting:
      database: false
      schema: false
      identifier: false
    tables:
      - name: my_perfect_store_supermarket_adjust